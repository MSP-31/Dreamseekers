{% extends 'header.html' %}
{% load static %}
{% load dr_filter %}

{% block topImg %}
    <img src = {% static "img/inquiry.jpg" %} alt="ì˜ˆì œì´ë¯¸ì§€">
    <h1>ê°•ì˜ ë¬¸ì˜</h1>
{% endblock %}

{% block content %}

<div class="main-content">
    <h1>ë‚´ ë¬¸ì˜ ë‚´ì—­</h1>

  <table class="board-table">
    <thead class>
      <tr class="table-head">
        <th style="width: 10%;" scope="col">ë²ˆí˜¸</th>
        <th style="width: 80%;" scope="col">ì œëª©</th>
        <th style="width: 15%;"scope="col">ê¸€ì“´ì´</th>
        <th style="width: 15%;" scope="col">ì‘ì„±ì¼</th>
      </tr>
    </thead>

    {% for post in page_obj %}
    <tbody>
      <tr>
        <td>
          <!-- ë²ˆí˜¸ = ì „ì²´ê±´ìˆ˜ - ì‹œì‘ì¸ë±ìŠ¤ - í˜„ì¬ì¸ë±ìŠ¤ + 1 -->
          {{ page_obj.paginator.count|sub:page_obj.start_index|sub:forloop.counter0|add:1 }}
        </td>
        <td style="text-align: left;"><a href="list/{{post.pk}}/">{{post.title}}
          {% if post.is_private %} <span>ğŸ”’</span> {% endif %}
        </td>
        <td>{{post.author}}</td>
        <td>{{post.created_at | date:"Y.m.d" }}</td>
      </tr>
    </tbody>
    {% endfor %}
    
  </table>
  <br/>
  <a class="btn-active" href="../inquiry">ë¬¸ì˜í•˜ê¸°</a>
  <br/>

  <!--í˜ì´ì§€ ë„¤ë¹„-->
  <div class="paging-navi">
    {% if page_obj.has_other_pages %}
    <ul>
      {% if page_obj.has_previous %}
      <li><a class="btn" style="text-decoration:none; color: black;" href="?page={{page_obj.previous_page_number}}">&#10094;</a></li>
      {% endif %}

      {% for page in custom_range %}
        <li class="{% if page == page_obj.number %}active{% endif %}">
          <a class="btn" href="?page={{page}}">{{page}}</a></li>
      {% endfor %}

      {% if page_obj.has_next %}
      <li><a class="btn" style="text-decoration:none; color: black;" href="?page={{page_obj.next_page_number}}">&#10095;</a></li>
      {% endif %}
    </ul>
    {% endif %}
  </div>
</div>

{% endblock %}